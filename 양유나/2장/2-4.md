# [2.4] 렌더링은 어떻게 일어나는가

## 2.4.1 리액트 렌더링이란?

리액트에서 렌더링이란 애플리케이션 트리 안에 있는 모든 컴포넌트들이 현재 자신이 가지고 있는 props와 state값을 기반으로 어떻게 UI를 구성하고 이르 바탕으로 어떤 DOM결과를 브라우저에 제공할 것인지 계산하는 일련의 과정이다.

## 2.4.2 리액트 렌더링이 일어나는이유

리엑트에서 렌더링이 발생하는 시점

1. 최초 렌더링 : 사용자가 처음 애플리케이션에 진입하면 당연히 렌더링해야할 결과물이 필요하다. 리액트는 브라우저에 정보를 제공하기 위해 최초 렌더링을 수행한다.
2. 리렌더링 : 최초 렌더링이 발생한 이후로 발생하는 모든 렌더링을 의미한다.

- 클래스 컴포넌트의 setState가 실행되는 경우
- 클래스 컴포넌트의 forceUpdate가 실행되는 경우
- 함수 컴포넌트의 useState()의 두번째 배열 요소인 setter가 실행되는 경우
- 함수 컴포넌트의 useRender()의 두번째 배열 요소인 dispatch가 실행되는 경우
- 컴포넌트의 keyprops가 변경되는 경우
- props가 변경되는 경우
- 부모 컴포넌트가 렌더링될 경우

## 2.4.3 리액트의 렌더링 프로세스

렌더링 프로세스가 시작되면 리액트는 컴포넌트의 루트에서 차근차근 아래쪽으로 내려가며 업데이트가 필요한 모든 컴포넌트를 찾는다.

업데이트가 필요하다고 지정돼 있는 컴포넌트를 찾으면 클래스 컴포넌트는 클래스 내부의 render()g함수를 실행하게 되고, 함수 컴포넌트의 경우 FunctionComponent()그 자체를 호출하여 결과물을 저장한다.

렌더링 결과물은 JSX문법으로 구성돼있고,

자바스크립트로 컴파일 되며 Reac.createElement를 호출하는 구문으로 바뀐다.

- JSX문법

```jsx
function Hello() {
  return (
    <TestComponent a={35} b={'yceffort'}>
      안녕하세요.
    </TestComponent>
  )
}
```

- React.CreateElememt를 호출해서 변환

```
function Hello() {
  return React.CreateElement(
    TestComponent,
    { a: 35, b: 'yceffort' },
    '안녕하세요'
  )
}
```

- 결과

```
{type:TestComponent, props:{a:35, b:"yceffort", children:"안녕하세요"}}
```

## 2.4.4 렌더와 커밋

### 렌더 단계

컴포넌트를 렌더링하고 변경 사항을 계산하는 모든 작업이다.

여기서 비교하는 것은 type, props, ket이다.

이 중 하나라도 변경된 것이 있으면 변경이 필요한 컴포넌트로 체크된다.

### 커밋 단계

렌더 단계의 변경 사항을 실제 DOM에 적용해 사용자에게 보여주는 과정이다.

리액트가 먼저 DOM을 커밋 단계에서 업데이트하면 모든 DOM및 인스턴스를 가리키도록 리액트 내부의 참조를 업데이트한다.

⇒ 리액트의 렌더링이 일어난다고 해서 무조건 DOM업데이트가 일어나는 것은 아니다.
